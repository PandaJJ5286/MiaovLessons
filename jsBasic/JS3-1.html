<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS3-1 QQ列表展开收缩扩展</title>
	<style type="text/css">
		body,div,ul,li,h2{margin:0;padding:0;font-family: 'Microsoft Yahei'}
		li{list-style:none; }
		#container{width:300px;margin:0 auto;border:1px solid #000;}
		.level1 h2 {background:url(js3-img/3-1/ico1.gif) no-repeat 5px center #63f7ff; padding-left: 19px;height:40px;line-height: 40px;font-weight: normal;cursor: pointer;}
		.level1 h2.active{background: url(js3-img/3-1/ico2.gif) no-repeat 5px center #f7f794;}
		.level1 ul{display: none;}
		.level1 ul li{width:281px;background: #fff;border-bottom:1px solid #000;padding-left: 19px;font-size: 16px;cursor:pointer;}
		.level1 ul li.hover { background:#6FF; }
	</style>

	<script type="text/javascript">
		window.onload = function(){
			var oCon = document.getElementById('container');
			var oUl = oCon.getElementsByTagName('ul')[0];
			var aH2 = oUl.getElementsByTagName('h2');
			var aUl = oUl.getElementsByTagName('ul');
			var aLi = null;
			var arrLi = [];
			
			for (var i = 0; i < aH2.length; i++) {
				aH2[i].index = i;
				aH2[i].onclick = function(){
					
					for( var i=0; i<aH2.length; i++ ){
						if( i != this.index ){
							aUl[i].style.display = 'none';
							aH2[i].className = '';
						}
					}

					if(this.className == ''){
						this.className = 'active';
						aUl[this.index].style.display = 'block';
					} else {
						this.className = '';
						aUl[this.index].style.display = 'none';
					}
					
				};
			};

			for (var i = 0; i < aUl.length; i++) {
				aLi = aUl[i].getElementsByTagName('li');
				for (var j = 0; j < aLi.length; j++) {
					arrLi.push(aLi[j]);
				}
			}

			for (var i = 0; i < arrLi.length; i++) {
				arrLi[i].onclick = function(){
					for (var i = 0; i < arrLi.length; i++) {
						if(arrLi[i] != this){
							arrLi[i].className = '';
						}
					}

					if(this.className == ''){
						this.className = 'hover';
					}else{
						this.className = '';
					}
				};
			}
		};
	</script>
</head>
<body>
	<div id="container">
		<ul>
			<li class="level1">
				<h2>我的好友</h2>
				<ul>
					<li>Panda1</li>
					<li>Panda2</li>
					<li>Panda3</li>
					<li>Panda4</li>
				</ul>
			</li>
			<li class="level1">
				<h2>企业好友</h2>
				<ul>
					<li>Panda5</li>
					<li>Panda6</li>
					<li>Panda7</li>
				</ul>
			</li>
			<li class="level1">
				<h2>黑名单</h2>
				<ul>
					<li>Panda8</li>
					<li>Panda9</li>
				</ul>
			</li>
		</ul>
	</div>
</body>
</html>